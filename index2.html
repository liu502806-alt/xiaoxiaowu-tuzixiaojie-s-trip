<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è§å°äº”/å…”å­å°å§ã®å¥‡å¦™æ—…é€” - ä¸»é¡µé¢</title>


<style>
body {
  margin: 0;
  font-family: "Hiragino Maru Gothic Pro", "PingFang SC", sans-serif;
  background: linear-gradient(180deg, #ffe7ef, #def6ff);
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;   /* å‚ç›´å±…ä¸­ */
  align-items: center;       /* æ°´å¹³å±…ä¸­ */
  text-align: center;
}

/* æ ‡é¢˜ *//* Title*/
.title {
  font-size: 2.3rem;
  color: #ff6ca8;
  text-shadow: 0 2px 6px rgba(255,150,180,0.35);
  animation: fadeIn 1s;
  margin-bottom: 30px;
}

/* æŒ‰é’®ç»„ *//* bottom set*/
.button-group {
  display: flex;
  justify-content: center;
  gap: 25px;
  margin-bottom: 25px;
}

.button-group button {
  background: rgba(255,255,255,0.75);
  border: none;
  padding: 14px 28px;
  border-radius: 20px;
  font-size: 1.15rem;
  cursor: pointer;
  box-shadow: 0 6px 12px rgba(255, 170, 200, 0.3);
  transition: .2s;
}

.button-group button:hover {
  background: #ffe3f0;
  transform: scale(1.07);
}

canvas {
  border-radius: 12px;
  width: 100%;
}

@keyframes fadeIn {
  from { opacity:0; transform: translateY(10px); }
  to { opacity:1; transform: translateY(0); }
}
</style>
</head>

<body>

<h1 class="title">ğŸ±è§å°äº”/å…”å­å°å§ğŸ° ã®å¥‡å¦™æ—…é€” ğŸµ</h1>

<div class="button-group">
  <button onclick="openPage('piano')">ğŸ¹ åˆè¯ç¤¼èµ</button>
  <button class="next-btn" onclick="location.href='page2.html'">
     ğŸ’° æŒ¥é‡‘ä¹‹å¤œ  
    </button>
  <button onclick="openPage('dream')">ğŸ’­ æ€å¿µçµ®è¯­</button>
</div>

<div id="content"></div>

<script>
function openPage(page) {
  const content = document.getElementById("content");
  content.innerHTML = "";

  if (page === "piano") {
  content.innerHTML = `
     <h2>ğŸ¶ åˆè¯ç¤¼èµ</h2>
      <p>ç‚¹å¼€ä¸‹æ–¹æ›²ç›®å³å¯é¢„è§ˆé’¢ç´æ›²ã€‚</p>

      <div id="playerControls" style="display:flex; align-items:center; margin-top:20px; gap:15px;">
        
        <!-- ç»¿è‰²å¼€å§‹æ’­æ”¾æŒ‰é’® -->
        <button id="playAllBtn" style="
          background:#1DB954;
          border:none;
          padding:10px 22px;
          border-radius:30px;
          color:white;
          font-size:16px;
          cursor:pointer;
          box-shadow:0 4px 10px rgba(0,0,0,0.3);
        ">â–¶ å¼€å§‹æ’­æ”¾</button>

        <div style="display:flex; gap:10px;">
          <button class="modeBtn" data-mode="repeat-one">ğŸ”</button>
          <button class="modeBtn" data-mode="repeat-all">ğŸ”‚</button>
          <button class="modeBtn" data-mode="shuffle">ğŸ”€</button>
        </div>
      </div>

      <div id="musicList" style="margin-top:20px;"></div>
      <audio id="musicPlayer"></audio>
    `;
  // === ä½ æ‰€æœ‰çš„æ›²ç›® ===
  const musicData = [
    {
      name: "çº¦å®šä¹‹åˆ",
      file: "audio1.mp3",      // ä½ çš„æ–‡ä»¶
      img: "audio1cover.jpg"  // ä½ çš„å›¾ç‰‡
    },
    {
      name: "å½¼æ—¶çš„å¤©ç©º",
      file: "audio2.mp3",
      img: "audio2cover.jpg"
    },
    {
      name: "æ€ªè¯æ›²",
      file: "audio3.mp3",
      img: "audio3cover.jpg"
    },
     {
      name: "æ—¥æ—¥å¤œå¤œ",
      file: "audio4.mp3",
      img: "audio4cover.jpg"
    },
     {
      name: "åˆ°æ˜å¤©å»",
      file: "audio5.mp3",
      img: "audio5cover.jpg"
    }
  ];

  const list = document.getElementById("musicList");
  const player = document.getElementById("musicPlayer");

  musicData.forEach((m, index) => {
    const item = document.createElement("div");
    item.className = "music-item";
    item.style.cssText = `
      display:flex;
      align-items:center;
      margin-bottom:15px;
      padding:12px;
      border-radius:14px;
      background: rgba(255, 255, 255, 0.7);
      box-shadow:0 3px 8px rgba(0,0,0,0.2);
      cursor:pointer;
      transition:0.25s;
    `;

    item.innerHTML = `
      <img src="${m.img}" style="
        width:90px; height:90px;
        object-fit:cover;
        border-radius:12px;
        margin-right:15px;
      ">

      <div style="flex:1;">
        <div style="font-size:17px; font-weight:600; color:#333;">
          ${m.name}
        </div>

        <div class="progress-bar" id="bar${index}" style="
          width:100%;
          height:10px;
          background:#eee;
          border-radius:6px;
          margin-top:10px;
          overflow:hidden;
        ">
          <div id="fill${index}" style="
            width:0%;
            height:100%;
            background:#ff8fb7;
            transition:0.1s linear;
          "></div>
        </div>
      </div>
    `;

    item.onclick = () => {

      // â€”â€”â­ ç‚¹ä¸€é¦–é’¢ç´æ›² â†’ è‡ªåŠ¨æš‚åœèƒŒæ™¯éŸ³ä¹ â­â€”â€”
  const bgm = document.getElementById("bgm");
  if (bgm) bgm.pause();

      player.src = m.file;
      player.play();

      // æ¸…ç©ºå…¶ä»–è¿›åº¦æ¡
      document.querySelectorAll("[id^=fill]").forEach(f => f.style.width = "0%");

      // è‡ªåŠ¨æ›´æ–°è¿›åº¦æ¡
      player.ontimeupdate = () => {
        let pct = (player.currentTime / player.duration) * 100;
        document.getElementById("fill" + index).style.width = pct + "%";
      };
    };

    list.appendChild(item);
  });
}

  if (page === "dream") {
    content.innerHTML = `
      <h2>ğŸŒ™ æ€å¿µçµ®è¯­</h2>
      <p>æ˜Ÿå…‰ç‚¹ç‚¹ï¼Œæ¯ä¸€é¢—éƒ½æ˜¯ä½ çš„æ€å¿µã€‚</p>
      <img src="dream-bg.jpg"
           style="width:90%; border-radius:12px; margin-top:15px; box-shadow:0 4px 10px rgba(0,0,0,0.3);">
    `;
  }

  if (page === "game") startGame(content);
}

/* ======== æ¸¸æˆæ”¾å…¥å†…å®¹å¡ç‰‡ ======== *//* ======== game insert======== */
function startGame(container) {
  container.innerHTML = `
    <h2>ğŸ’° æŒ¥é‡‘ä¹‹å¤œ</h2>
    <canvas id="gameCanvas" width="350" height="450"
     style="border:2px solid #555; border-radius:12px; background:url('background.jpg'); background-size:cover;"></canvas>
    <p>ç”¨ â† â†’ æ§åˆ¶ç¯®å­æ¥é‡‘å¸ï¼</p>
  `;

  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");

  const basket = {
    x: 140,
    y: 390,
    width: 80,
    height: 40,
    img: new Image(),
  };
  basket.img.src = "basket.png";

  const coin = {
    x: Math.random() * 310,
    y: 0,
    size: 30,
    img: new Image(),
  };
  coin.img.src = "coin.png";

  let score = 0;
  let rightPressed = false;
  let leftPressed = false;

  document.addEventListener("keydown", e => {
    if (e.key === "ArrowRight") rightPressed = true;
    if (e.key === "ArrowLeft") leftPressed = true;
  });

  document.addEventListener("keyup", e => {
    if (e.key === "ArrowRight") rightPressed = false;
    if (e.key === "ArrowLeft") leftPressed = false;
  });

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(basket.img, basket.x, basket.y, basket.width, basket.height);
    ctx.drawImage(coin.img, coin.x, coin.y, coin.size, coin.size);

    ctx.fillStyle = "white";
    ctx.font = "18px Arial";
    ctx.fillText("åˆ†æ•°: " + score, 10, 25);
  }

  function update() {
    coin.y += 3;

    if (coin.y + coin.size > basket.y &&
        coin.x + coin.size > basket.x &&
        coin.x < basket.x + basket.width) {
      score++;
      coin.y = 0;
      coin.x = Math.random() * 310;
    }

    if (coin.y > canvas.height) {
      coin.y = 0;
      coin.x = Math.random() * 310;
    }

    if (rightPressed && basket.x < canvas.width - basket.width) basket.x += 5;
    if (leftPressed && basket.x > 0) basket.x -= 5;

    draw();
    requestAnimationFrame(update);
  }

  update();


}

</script>
</body>
</script>
<!-- èƒŒæ™¯éŸ³ä¹ --><!-- bg music -->
<audio id="bgm" src="audio2.mp3" autoplay loop></audio>

<!-- é™éŸ³æŒ‰é’® --><!-- mute bottom -->
<div id="muteButton">ğŸ”Š</div>

<style>
#muteButton {
  position: fixed;
  top: 15px;
  right: 15px;
  font-size: 28px;
  cursor: pointer;
  z-index: 9999;
  background: rgba(255,255,255,0.7);
  padding: 6px 10px;
  border-radius: 12px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.15);
  transition: 0.2s;
}
#muteButton:hover {
  transform: scale(1.1);
  background: rgba(255,255,255,0.9);
}
</style>

<script>
// è‡ªåŠ¨æ’­æ”¾ï¼ˆéœ€è¦ä»»æ„ä¸€æ¬¡ç‚¹å‡»å³å¯æ¿€æ´»ï¼‰// Auto play(need one tapï¼‰
document.addEventListener("click", function () {
  const bgm = document.getElementById("bgm");
  if (bgm.paused) bgm.play();
}, { once: true });

const bgm = document.getElementById("bgm");
const muteBtn = document.getElementById("muteButton");

// ç‚¹å‡»é™éŸ³ / å–æ¶ˆé™éŸ³// click to. mute / unmute
muteBtn.addEventListener("click", () => {
  if (bgm.muted) {
    bgm.muted = false;
    muteBtn.textContent = "ğŸ”Š";   // å›¾æ ‡ï¼šå£°éŸ³å¼€ // music on
  } else {
    bgm.muted = true;
    muteBtn.textContent = "ğŸ”‡";   // å›¾æ ‡ï¼šé™éŸ³ // mute
  }
});
</script>
</html>
